<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.10: http://docutils.sourceforge.net/" />
<title>TTrack</title>
<link rel="stylesheet" href="rst.css" type="text/css" />
</head>
<body>
<div class="document" id="ttrack">
<h1 class="title">TTrack</h1>

<div class="section" id="overview">
<h1>Overview</h1>
<p>TTrack is a very simple command-line time-tracking tool written in Python.
It allows you to create tasks and then track time spent working on them.
Aggregate reports of the time spent on tasks can be produced, and arbitrary
tags can be applied to tasks for flexible categorisation.</p>
<blockquote>
TTrack was written for use on Unix-like platforms, and appears to
work on both Linux and OSX. It hasn't been tested on Windows at all,
although I would hope that any compatibility issues would be minor.</blockquote>
</div>
<div class="section" id="installation">
<h1>Installation</h1>
<p>Install the <tt class="docutils literal">ttrack</tt> package from PyPI - note that it depends on the
<tt class="docutils literal">cmdparser</tt> package, also available on PyPI. For example, to install using
<tt class="docutils literal">pip</tt>:</p>
<pre class="literal-block">
pip install ttrack
</pre>
<p>When first run, an SQLite database is created in your home directory in a file
called <tt class="docutils literal">.timetrackdb</tt>. It's currently not possible to change the name used
for this file, although it would be a simple code change to do so. This file
contains the entire database - removing it will lose all data.</p>
<p>Additionally, the file <tt class="docutils literal">.timetrackhistory</tt> is created in the same place to
store command history.</p>
</div>
<div class="section" id="task-tracking-basics">
<h1>Task Tracking Basics</h1>
<p>When executed with no arguments, TTrack enters interactive mode. Commands
can be entered at the <tt class="docutils literal"><span class="pre">ttrack&gt;&gt;&gt;</span></tt> prompt, and tab-completion should work for
command names and most arguments.</p>
<p>The <tt class="docutils literal">help</tt> command can be used to list available commands, providing a
command as an argument provides more detailed help for that command. For
example, try <tt class="docutils literal">help create</tt>.</p>
<p>TTrack works on the basis of &quot;tasks&quot;, which are referred to with a simple
name. I suggest keeping names lower-case and avoiding spaces, but you can
choose any names you wish. If you wish to include spaces in any name, you'll
need to surround it with double-quotes at the <tt class="docutils literal"><span class="pre">ttrack&gt;&gt;&gt;</span></tt> prompt (or use
suitable shell quoting if using command-line arguments).</p>
<p>Let's run through some basic workflow as an example - don't worry, you can
easily delete your <tt class="docutils literal"><span class="pre">~/.timetrackdb</span></tt> file to erase everything you do here.</p>
<p>First, create some tasks:</p>
<pre class="literal-block">
ttrack&gt;&gt;&gt; create task projectx
ttrack&gt;&gt;&gt; create task projectz
ttrack&gt;&gt;&gt; create task bug1234
</pre>
<p>You can now list the tasks that you've created:</p>
<pre class="literal-block">
ttrack&gt;&gt;&gt; show tasks
</pre>
<p>You can use the <tt class="docutils literal">start</tt> command to start work on a task:</p>
<pre class="literal-block">
ttrack&gt;&gt;&gt; start project2
</pre>
<p>If you omit the task name, the most recently-created task will be assumed.</p>
<p>The <tt class="docutils literal">status</tt> command shows you what you're working on now, and what you were
working on previous to that, if anything:</p>
<pre class="literal-block">
ttrack&gt;&gt;&gt; status
</pre>
<p>Whilst working on a task, you can add &quot;diary&quot; entries to it, which are
intended to be small reminders of your progress. To do this, simply use the
<tt class="docutils literal">diary</tt> command, where the remainder of the line becomes your diary entry:</p>
<pre class="literal-block">
ttrack&gt;&gt;&gt; diary Finished planning on Project X, on to phase 1 development.
</pre>
<p>If you just enter a blank <tt class="docutils literal">diary</tt> command, TTrack will prompt you to enter
an entry terminated by a full-stop (<tt class="docutils literal">.</tt>) on a line by itself - this allows
you to enter multi-line diary comments.</p>
<p>Feel free to add more diary entries. Each entry will be marked with the time
at which you add it and the current task that was in effect at that time.
You can display your diary entries for this task with:</p>
<pre class="literal-block">
ttrack&gt;&gt;&gt; show diary task projectx
</pre>
<p>You can also track &quot;todo&quot; items for projects. These are just arbitrary text
which are associated with a task and can be marked as completed. To add a new
&quot;todo&quot; item to Project X:</p>
<pre class="literal-block">
ttrack&gt;&gt;&gt; todo projectx Implement phase 1.
</pre>
<p>Any &quot;todo&quot; item on the currently active task can be marked as &quot;done&quot;:</p>
<pre class="literal-block">
ttrack&gt;&gt;&gt; todo done Impl
</pre>
<p>Note that only a unqiue portion of the &quot;todo&quot; item text need be specified - you
will receive a warning if there is ambiguity within a task (but it's perfectly
acceptable for &quot;todo&quot; text to be identical between tasks). Any completed &quot;todo&quot;
items will appear in the diary for a task, and any outstanding items can be
shown with:</p>
<pre class="literal-block">
ttrack&gt;&gt;&gt; show todos
</pre>
<p>If you start working on a new task, the old task is automatically stopped:</p>
<pre class="literal-block">
ttrack&gt;&gt;&gt; start projectz
</pre>
<p>If you use the <tt class="docutils literal">status</tt> command now you should see that the current task has
changed and the previous task is now filled in. You can switch between tasks
arbitrarily, and TTrack always allocates your time against the current task.</p>
<p>Since work on tasks can often be interrupted, there is a command which allows
you to easily revert to the previously active task:</p>
<pre class="literal-block">
ttrack&gt;&gt;&gt; resume
</pre>
<p>If working on a task, this command will switch you back to the previous task.
This is simply a convenience for the equivalent <tt class="docutils literal">start</tt> command, to avoid you
having to type the task name again.</p>
<p>You can also stop allocating your time to anything - for example, when it's
time to leave the office or go to bed:</p>
<pre class="literal-block">
ttrack&gt;&gt;&gt; stop
</pre>
<p>If you execute <tt class="docutils literal">resume</tt> whilst no task is active, it will restart whatever
task was most recently active.</p>
</div>
<div class="section" id="tags-and-listing">
<h1>Tags and Listing</h1>
<p>Tasks can be organised by using tags. A tag is a name which can be applied to
any set of tasks, and reports can be generated based on these. Tags can be
used as categories, but note that unlike conventional categories a task can
have multiple tags applied to it at once.</p>
<p>The links between tags and tasks can be changed at any point, and this change
is applied retrospectively - in other words, reporting is always based on the
current state of tags, not the state as it was when the tasks were current.
This can be powerful, as it means that you can start recording task time
quickly without worrying too much about how to report on it, and then assign
and change tags later for reporting purposes.</p>
<p>Continuing the example above, create some tags and add them to tasks:</p>
<pre class="literal-block">
ttrack&gt;&gt;&gt; create tag projects
ttrack&gt;&gt;&gt; create tag commercial
ttrack&gt;&gt;&gt; task projectx tag projects
ttrack&gt;&gt;&gt; task projecty tag projects
ttrack&gt;&gt;&gt; task projecty tag commercial
</pre>
<p>If you wish to remove a tag at a later stage, you can use <tt class="docutils literal">task X untag Y</tt>
in the same way.</p>
<p>As a shortcut, when creating a task you can optionally specify a list of one
or more tags after the task name, which saves additional <tt class="docutils literal">task</tt> commands to
add them:</p>
<pre class="literal-block">
ttrack&gt;&gt;&gt; create task project-profit projects commercial
</pre>
<p>When listing tasks, the tags for that task are shown after the task name:</p>
<pre class="literal-block">
ttrack&gt;&gt;&gt; show tasks
All tasks:
  projectx (projects)
  projecty (projects, commercial)
  project-profit (projects, commercial)
  bug1234
</pre>
<p>When listing tags with <tt class="docutils literal">show tags</tt>, the number of tasks with that tag
attached is shown - this can be useful to determine which tags are obsolete.</p>
<p>On the subject of the <tt class="docutils literal">show</tt> command, the <tt class="docutils literal">diary</tt> and <tt class="docutils literal">todos</tt> variants
can optionally filter by tag or task. For example, to show the diary entries
for only tasks tagged with <tt class="docutils literal">projects</tt>:</p>
<pre class="literal-block">
ttrack&gt;&gt;&gt; show diary tag projects
</pre>
</div>
<div class="section" id="reports">
<h1>Reports</h1>
<p>Now you've created some tasks and tags, and allocated some time to them,
it's time to learn how to generate reports based on that time. Reports are
all generated with the <tt class="docutils literal">summary</tt> command. It's syntax is a little
complicated, but the examples below should help get you started.</p>
<p>Firstly, reports can be generated split by task or split by tag - hence, the
first argument is either <tt class="docutils literal">task</tt> or <tt class="docutils literal">tag</tt> to indicate which you want.</p>
<p>The second argument specifies the type of report that you can generate - there
are currently four types:</p>
<dl class="docutils">
<dt><tt class="docutils literal">time</tt></dt>
<dd>This produces a report of the time spent on each entry.</dd>
<dt><tt class="docutils literal">switches</tt></dt>
<dd>Shows the number of times the specified task interrupted others.</dd>
<dt><tt class="docutils literal">diary</tt></dt>
<dd>Shows all diary entries.</dd>
<dt><tt class="docutils literal">entries</tt></dt>
<dd>Shows raw task times.</dd>
</dl>
<p>Following the report type, the period over which the report should be run is
specified - the syntax for this is fairly flexible and some examples of
what will be accepted are:</p>
<ul class="simple">
<li><tt class="docutils literal">yesterday</tt></li>
<li><tt class="docutils literal">2 weeks ago</tt></li>
<li><tt class="docutils literal">last month</tt></li>
<li><tt class="docutils literal">December 2012</tt></li>
<li><tt class="docutils literal">between 15/10/2011 and today</tt></li>
</ul>
<!--  -->
<blockquote>
When providing two dates to run the report, bear in mind that the
first date will be inclusive but the second date will be exclusive (so the
example &quot;between 15/10/2011 and today&quot; won't include today).</blockquote>
<p>Finally, if splitting by task (only), a the keyword <tt class="docutils literal">tag</tt> followed by a tag
name can be specified at the end of the command. If so, the list of tasks
displayed will be filtered to be those with the specified tag applied.</p>
<p>In case you're thinking that all sounds a bit too complicated, here are some
simple examples which probably cover most of what you need, followed by an
explanation of what will be displayed.</p>
<dl class="docutils">
<dt><tt class="docutils literal">summary task time this week</tt></dt>
<dd>Display a summary of the time spent on each task so far this week.</dd>
<dt><tt class="docutils literal">summary tag time yesterday</tt></dt>
<dd>Display a summary of the time spent yesterday on tasks in each tag.</dd>
<dt><tt class="docutils literal">summary task switches last month</tt></dt>
<dd>Display the number of times each task interrupted another one in the
previous month.</dd>
<dt><tt class="docutils literal">summary task diary this month tag projects</tt></dt>
<dd>Display diary entries recorded so far this month for all tasks with tag
<tt class="docutils literal">projects</tt>.</dd>
</dl>
<p>Note that the <tt class="docutils literal">entries</tt> summary mode is typically used when fixing up
incorrectly recorded times, as it's the only way of determing the unique
ID of a time entry in the database. This is a more advanced usage which isn't
covered in this basic tutorial.</p>
<p>The <tt class="docutils literal">switches</tt> report probably needs a little more explanation. The intention
is to allow you to record interruptions (or &quot;context switches&quot;) you suffer
during the day and get some idea of how frequently your flow is interrupted.
For this to work you'll have to create tasks to track all the things which
disturb you - for example, if you are interrupted by calls from customers,
you could create a task <tt class="docutils literal">customersupport</tt> to track this.</p>
<p>Remember that context switches are budgeted against the new task (i.e. the
&quot;interrupting&quot; task), not the old one (i.e. the &quot;interrupted&quot; task).</p>
<p>To count as a context switch and be included in the totals for the <tt class="docutils literal">switches</tt>
report, a task must be different to the previous task and start less than a
minute after the first one ended. When reporting by tag rather than task,
the switch is only counted if the new task has at least one tag which the old
task does not.</p>
<p>For example, if two different tasks both have only the <tt class="docutils literal">coding</tt> tag then
switching between them will count as a context switch in a <tt class="docutils literal">task</tt> report,
but not in a <tt class="docutils literal">tag</tt> report. By comparison, if the old task was tagged
with <tt class="docutils literal">A</tt>, <tt class="docutils literal">B</tt> and <tt class="docutils literal">C</tt> and the new task tagged with <tt class="docutils literal">C</tt>, <tt class="docutils literal">D</tt> and <tt class="docutils literal">E</tt>
then the context switches count would be incremented for tags <tt class="docutils literal">D</tt> and <tt class="docutils literal">E</tt>
only as a result of the task switch.</p>
</div>
<div class="section" id="advanced-usage">
<h1>Advanced Usage</h1>
<p>Many of the commands have additional arguments to fix problems when you've
forgotten to start or stop tasks at the correct time - these allow the time
at which the event occurs to be overridden. For example, if you leave work on
Friday and forget to execute <tt class="docutils literal">stop</tt>, you can do so on Monday and make it
retrspective by specifying a time: <tt class="docutils literal">stop last Friday at 17:35</tt>.</p>
<p>Unfortunately, however, I haven't had chance to document these more advanced
usages in this README, but the <tt class="docutils literal">help</tt> command may give you the details you
need. TTrack tries its best to prevent you creating entries which overlap, on
the assumption that you can only be doing one task at a time, but it pays to
be a little cautious if you value the records you have in the database so far.
If in doubt, you can take a copy of the <tt class="docutils literal"><span class="pre">~/.timetrackdb</span></tt> file before playing
around, and re-instate the old data by simply copying it back into place
if things seem to be broken.</p>
</div>
<div class="section" id="contact">
<h1>Contact</h1>
<p>Hopefully that should give you enough to get started. If you have any
questions, problems or requests, please get in touch with me at
<a class="reference external" href="mailto:andy&#64;andy-pearce.com">andy&#64;andy-pearce.com</a>.</p>
</div>
</div>
</body>
</html>
